<!DOCTYPE html>
<html lang="en">
  <head>

    <!-- General -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Arctic Algae - MicroClimates</title>
    <meta name="description" content="Abstract explorations of our changing climate on planet Earth. Click, scroll and drag to explore.">

    <!-- Links -->
    <link href="main.css" rel="stylesheet">
    <!-- Load latest acron version first -->
    <script type="text/javascript" src="https://unpkg.com/acorn"></script>
    <!-- Then load Paper.js -->
    <script type="text/javascript" src="https://unpkg.com/paper"></script>
    <!-- Place your Paperscript here -->
    <script type="text/paperscript" canvas="climateCanvas">

      var mouseDown = false
      var i = 1
      var c = 0
      let paths = []
      let colors = ['#279767', '#C3E2E0', '#82C572', '#79C49E']
      var circleRadius = view.size.width/18

      if (circleRadius > 30) {circleRadius=30}

      function onMouseDown(event) {
              i = 1;
              mouseDown = true;
              paths.push (new Path.Circle({
              center: event.point,
              radius: circleRadius,
              strokeColor : '#f2f2f2',
              strokeWidth : 5,
              fillColor: colors[c]
          }));
              if (c<colors.length-1) {c++;} else {c=0}
      }

      function onMouseUp(event) {
          mouseDown = false;
      //     setTimeout(() => {
      //         var tween = paths[0].tweenTo(
      //             { opacity: 0 },
      //             { duration: 3000 }
      //         );
      //         paths.shift();
      //         tween.then(function() {
      //             this.remove;
      //         });
      //     }, 20000);
       }

      view.onFrame = function(event) {
            if (event.count % 2 === 0) {
          if (mouseDown) {
              if (i<1.07){
                  i += 0.001
                  paths[paths.length-1].scale(i);
              } ;
          }
      }}
      
    </script>
  </head>
  <body>


    <!-- - - - - - - - - Paper.js - - - - - - - - -->
    <canvas id="climateCanvas" resize></canvas>


    <!-- - - - - - - - - Quote - - - - - - - - -->
    <div class="container noselect">
      <div id="quote" class="quote">
        <p class="large">As the Antarctica warms, <span>snow algae will increase,</span> potentially absorbing more sun, heating the surrounding area and <span>leading to a faster loss of sea ice.</span></p>
        <p class="small hide-desktop">Tap and hold to grow an algae artwork.</p>
        <p class="small hide-mobile">Click and hold to grow an algae artwork.</p>
      </div>
    </div>


    <!-- - - - - - - - - Navigation - - - - - - - - -->
    <div class="nav">
      <a class="icon-wrapper" href="../index.html#home">
        <span class="icon icon-home"></span>
      </a>
      <a class="icon-wrapper icon-right" onClick="window.location.reload();" href="#">
        <span class="icon icon-reload"></span>
      </a>
    </div>


    <!-- - - - - - - - - Scripts - - - - - - - - -->
    <script>
        var source = document.getElementById('quote');
        document.getElementById('climateCanvas').onclick = function () {
            source.classList.add("opacity");
        }
    </script>
  </body>
</html>
